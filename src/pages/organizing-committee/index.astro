---
import BaseLayout from "@/layouts/BaseLayout.astro";

interface CommitteeMember {
  name: string;
  title?: string;
  affiliation?: string;
  role?: string;
  image?: string;
  country?: string;
  email?: string;
  linkedin?: string;
  category?: string;
  phone?: string;
}

const members: CommitteeMember[] = [
  // Conference Chairs
  {
    name: "Prof. Bandunee Athapattu",
    title: "Conference Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Conference Chair",
    image: "./committee/Prof. Bandunee Athapattu.jpg",
    country: "LK",
    email: "bcliy@ou.ac.lk",
    category: "Conference Chair"
  },
  {
    name: "Prof. Jagath Manatunge",
    title: "Conference Chair",
    affiliation: "University of Moratuwa",
    role: "Conference Chair",
    image: "./committee/Prof. Jagath Manatunge.jpg",
    country: "LK",
    email: "manatunge@uom.lk",
    category: "Conference Chair"
  },
  // TPC Chair
  {
    name: "Dr. L.S.K. Udugama",
    title: "TPC Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Technical Program Committee Chair",
    image: "./committee/Dr. L.S.K. Udugama.jpg",
    country: "LK",
    email: "lsudu@ou.ac.lk",
    category: "Technical Program Committee"
  },
  // TPC Co-Chairs
  {
    name: "Prof. Indika Perera",
    title: "TPC Co-Chair",
    affiliation: "University of Moratuwa",
    role: "Technical Program Committee Co-Chair",
    image: "./committee/Prof. Indika Perera.jpg",
    country: "LK",
    email: "indikaperera@uom.lk",
    category: "Technical Program Committee"
  },
  {
    name: "Mr. Janaka Wijesekera",
    title: "TPC Co-Chair",
    affiliation: "",
    role: "Technical Program Committee Co-Chair",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    category: "Technical Program Committee"
  },
  // Organizing Committee Chair
  {
    name: "Dr. Maneesha Caldera",
    title: "Organizing Committee Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Organizing Committee Chair",
    image: "./committee/Dr.-H.M.M.CALDERA.jpeg",
    country: "LK",
    email: "hmcal@ou.ac.lk",
    category: "Organizing Committee"
  },
  // Programme Co-Chairs
  {
    name: "Prof. Uditha Ratnayake",
    title: "Programme Co-Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Programme Co-Chair",
    image: "./committee/Prof. Uditha Ratnayake.jpg",
    country: "LK",
    email: "udithaw@ou.ac.lk",
    category: "Programme Committee"
  },
  {
    name: "Dr. Lochandaka Ranathunga",
    title: "Programme Co-Chair",
    affiliation: "University of Moratuwa",
    role: "Programme Co-Chair",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    email: "lochandaka@uom.lk",
    category: "Programme Committee"
  },
  {
    name: "Prof. Shiromi Karunaratne",
    title: "Programme Co-Chair",
    affiliation: "SLIIT",
    role: "Programme Co-Chair",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    email: "shiromi.k@sliit.lk",
    category: "Programme Committee"
  },
  {
    name: "Dr. Yohan Mahagamage",
    title: "Programme Co-Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Programme Co-Chair",
    image: "./committee/Dr. Yohan Mahagamage.jpg",
    country: "LK",
    email: "mgyma@ou.ac.lk",
    category: "Programme Committee"
  },
  {
    name: "Dr. Chamila Dias",
    title: "Programme Co-Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Programme Co-Chair",
    image: "./committee/Dr.-Chamila-Dias.jpg",
    country: "LK",
    email: "sndia@ou.ac.lk",
    category: "Programme Committee"
  },
  // Publication Chair & Co-Chairs
  {
    name: "Prof. Meththika Vithanage",
    title: "Publication Chair",
    affiliation: "University of Sri Jayewardenepura",
    role: "Publication Chair",
    image: "./committee/Prof. Meththika Vithanage.jpg",
    country: "LK",
    email: "meththika@sjp.ac.lk",
    category: "Publication Committee"
  },
  {
    name: "Dr. Chandana Jayawardena",
    title: "Publication Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Publication Chair",
    image: "./committee/Dr-G.M.C.P.-Jayawardana.jpg",
    country: "LK",
    email: "gmjay@ou.ac.lk",
    category: "Publication Committee"
  },
  {
    name: "Dr. Uthpala Jayawardena",
    title: "Publication Co-Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Publication Co-Chair",
    image: "./committee/Dr. Uthpala Jayawardena.jpg",
    country: "LK",
    email: "uajay@ou.ac.lk",
    category: "Publication Committee"
  },
  {
    name: "Prof. Pradeep Kalansooriya",
    title: "Publication Co-Chair",
    affiliation: "General Sir John Kotelawala Defence University",
    role: "Publication Co-Chair",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    email: "pradeepkalansooriya@kdu.ac.lk",
    category: "Publication Committee"
  },
  {
    name: "Dr. Rukshima Dabare",
    title: "Publication Co-Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Publication Co-Chair",
    image: "./committee/Dr. Rukshima dabare.jpg",
    country: "LK",
    email: "ptdab@ou.ac.lk",
    category: "Publication Committee"
  },
  {
    name: "Dr. Supunmalie",
    title: "Publication Co-Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Publication Co-Chair",
    image: "./committee/Dr. Supunmalie.jpg",
    country: "LK",
    email: "supunmali@ou.ac.lk",
    category: "Publication Committee"
  },
  // Financial & Registration Chair
  {
    name: "Eng. Sampath Wickramanayake",
    title: "Financial & Registration Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Financial & Registration Chair",
    image: "./committee/Eng. Sampath Wickramasinghe.jpg",
    country: "LK",
    email: "dswic@ou.ac.lk",
    category: "Financial Committee"
  },
  // International Relation Chair
  {
    name: "Prof. Damith Wickramanayake",
    title: "International Relation Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "International Relation Chair",
    image: "./committee/Prof. Damith Wickramanayake.jpg",
    country: "LK",
    email: "dawic@ou.ac.lk",
    category: "International Relations"
  },
  // Publicity Chair
  {
    name: "Dr. Gehan Anthonys",
    title: "Publicity Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Publicity Chair",
    image: "./committee/Eng.-Dr.-G.-Anthonys.jpg",
    country: "LK",
    email: "ganth@ou.ac.lk",
    category: "Publicity Committee"
  },
  // Special Session Chair
  {
    name: "Dr. Menaka Ranasinghe",
    title: "Special Session Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Special Session Chair",
    image: "./committee/Dr. Menaka Ranasinghe.png",
    country: "LK",
    email: "ddran@ou.ac.lk",
    category: "Special Sessions"
  },
  // Workshop Chair
  {
    name: "Dr. Ganila Paranavithana",
    title: "Workshop Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Workshop Chair",
    image: "./committee/Dr.-G.-N.-Paranavithana.jpg",
    country: "LK",
    email: "gnpar@ou.ac.lk",
    category: "Workshop Committee"
  },
  // Awards Chair
  {
    name: "Eng. Hemali Pasquel",
    title: "Awards Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Awards Chair",
    image: "./committee/Mrs. Hemalie Pasquel.png",
    country: "LK",
    email: "hpasq@ou.ac.lk",
    category: "Awards Committee"
  },
  // Poster Session Chair
  {
    name: "Mr. N.M. Siyad",
    title: "Poster Session Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Poster Session Chair",
    image: "./committee/N.M. Siyad.jpeg",
    country: "LK",
    email: "nmsiy@ou.ac.lk",
    category: "Poster Session Committee"
  },
  // Local Organizing Chairs
  {
    name: "Dr. K.A.C. Udayakumar",
    title: "Local Organizing Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Local Organizing Chair",
    image: "./committee/Dr.Udayakumar.jpg",
    country: "LK",
    email: "kauda@ou.ac.lk",
    category: "Local Organizing Committee"
  },
  {
    name: "Mr. Kasun Araththanage",
    title: "Local Organizing Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Local Organizing Chair",
    image: "./committee/Mr. Kasun-Aratthanage.jpg",
    country: "LK",
    email: "kdara@ou.ac.lk",
    category: "Local Organizing Committee"
  },
  {
    name: "Ms. J. Kirushika",
    title: "Local Organizing Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Local Organizing Chair",
    image: "./committee/Ms.-J.-Kirushika.jpg",
    country: "LK",
    email: "jkiru@ou.ac.lk",
    category: "Local Organizing Committee"
  },
  {
    name: "Mr. Saliya Wickramasinghe",
    title: "Local Organizing Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Local Organizing Chair",
    image: "./committee/Mr. Saliya Wickramasinghe.jpg",
    country: "LK",
    email: "bmwic@ou.ac.lk",
    category: "Local Organizing Committee"
  },
  // Conference Secretaries
  {
    name: "Eng. S. Himanujahn",
    title: "Conference Secretary",
    affiliation: "University of Sri Jayewardenepura",
    role: "Conference Secretary",
    image: "./committee/Eng. S Himanujahn.jpeg",
    country: "LK",
    email: "himanujahn@sjp.ac.lk",
    category: "Conference Secretariat"
  },
  {
    name: "Eng. Zeena Weerabangsa",
    title: "Conference Secretary",
    affiliation: "The Open University of Sri Lanka",
    role: "Conference Secretary",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    email: "mzwee@ou.ac.lk",
    category: "Conference Secretariat"
  },
  // Web Committee
  {
    name: "Eng. Janaka Basnayake",
    title: "Web Committee Chair",
    affiliation: "The Open University of Sri Lanka",
    role: "Web Committee Chair",
    image: "./committee/Eng.-CJ-Basnayakege.jpg",
    country: "LK",
    email: "cjbas@ou.ac.lk",
    category: "Web Committee"
  },
  {
    name: "Mr. Mayura Alahakoon",
    title: "Deputy Web Committee Lead",
    affiliation: "The Open University of Sri Lanka",
    role: "Deputy Web Committee Lead",
    image: "./committee/Mayura.jpg",
    country: "LK",
    category: "Web Committee"
  },
  {
    name: "Mr. Chanaka Weerasekara",
    title: "Web Committee Member",
    affiliation: "The Open University of Sri Lanka",
    role: "Web Committee Member",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    email: "wpcha@ou.ac.lk",
    category: "Web Committee"
  },
  {
    name: "Eng. Shalindu Andradi",
    title: "Web Committee Member",
    affiliation: "The Open University of Sri Lanka",
    role: "Web Committee Member",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    email: "dmand@ou.ac.lk",
    category: "Web Committee"
  },
  // Advisory Board
  {
    name: "Prof. S Vasanthapriyan",
    title: "Advisory Board Chair",
    affiliation: "Sabaragamuwa University of Sri Lanka",
    role: "Advisory Board Chair",
    image: "./committee/Prof. S Vasanthapriyan.jpg",
    country: "LK",
    email: "priyan@foc.sab.ac.lk",
    category: "Advisory Board"
  },
  {
    name: "Prof. Kazunari Sei",
    title: "Advisory Board Member",
    affiliation: "University of Toyama",
    role: "International Advisor",
    image: "./committee/Prof. Kazunari Sei.png",
    country: "JP",
    category: "Advisory Board"
  },
  {
    name: "Prof. Masafumi Tateda",
    title: "Advisory Board Member",
    affiliation: "",
    role: "International Advisor",
    image: "./committee/default-avatar.jpg",
    country: "JP",
    category: "Advisory Board"
  },
  {
    name: "Mrs. Shalene",
    title: "Advisory Board Member",
    affiliation: "",
    role: "Advisory Board Member",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    category: "Advisory Board"
  },
  {
    name: "Dr. Prasanna",
    title: "Advisory Board Member",
    affiliation: "SLIIT",
    role: "Advisory Board Member",
    image: "./committee/default-avatar.jpg",
    country: "LK",
    category: "Advisory Board"
  },
  {
    name: "Prof. Sunil Herath",
    title: "Advisory Board Member",
    affiliation: "",
    role: "Advisory Board Member",
    image: "./committee/Prof.Sunil Herath.jpg",
    country: "LK",
    category: "Advisory Board"
  },
  {
    name: "Prof. Mahesh Jayaweera",
    title: "Advisory Board Member",
    affiliation: "University of Moratuwa",
    role: "Advisory Board Member",
    image: "./committee/Prof.Mahesh Jayaweera.jpg",
    country: "LK",
    email: "mahesh@uom.lk",
    category: "Advisory Board"
  }
];

const groupedMembers = members.reduce((acc, member) => {
  const cat = member.category || "Uncategorized";
  if (!acc[cat]) acc[cat] = [];
  acc[cat].push(member);
  return acc;
}, {} as Record<string, CommitteeMember[]>);

/** Define the order in which categories should appear */
const categoryOrder = [
  "Advisory Board",
  "Conference Chair",
  "Conference Secretariat",
  "Technical Program Committee",
  "Organizing Committee",
  "Programme Committee",
  "Publication Committee",
  "Financial Committee",
  "International Relations",
  "Publicity Committee",
  "Special Sessions",
  "Workshop Committee",
  "Local Organizing Committee",
  "Awards Committee",
  "Poster Session Committee",
  "Web Committee"
];

/** Sort the categories according to our preferred order */
const sortedCategories = Object.keys(groupedMembers).sort((a, b) => {
  const indexA = categoryOrder.indexOf(a);
  const indexB = categoryOrder.indexOf(b);
  return (indexA === -1 ? 999 : indexA) - (indexB === -1 ? 999 : indexB);
});

/** Provide a default avatar if no image is provided */
const defaultAvatar = "./committee/default-avatar.jpg";
function getImagePath(path?: string) {
  return path || defaultAvatar;
}

/** Convert country code (e.g. "LK") to an emoji flag */
function getFlagEmoji(countryCode?: string): string {
  if (!countryCode) return "";
  const codePoints = countryCode
    .toUpperCase()
    .split("")
    .map(char => 127397 + char.charCodeAt(0));
  return String.fromCodePoint(...codePoints);
}

/** Get appropriate grid layout based on number of members */
function getGridLayout(count: number): string {
  if (count === 1) return "grid-cols-1 max-w-md mx-auto";
  if (count === 2) return "md:grid-cols-2 max-w-3xl mx-auto";
  if (count === 3) return "md:grid-cols-3 max-w-5xl mx-auto";
  if (count === 4) return "md:grid-cols-2 lg:grid-cols-4 max-w-6xl mx-auto";
  if (count <= 6) return "md:grid-cols-3 max-w-6xl mx-auto";
  return "md:grid-cols-3 lg:grid-cols-4 max-w-7xl mx-auto";
}

/** Page Title & Description */
const pageTitle = "ICPIES 2025 Organizing Committee";
const pageDescription =
  "Meet our dedicated team bringing together experts from academia, industry, and policy around the globe.";
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- Hero Section with Wave Background -->
  <div class="relative overflow-hidden bg-emerald-50">
    <div class="absolute inset-0 opacity-20">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" class="absolute bottom-0 w-full">
        <path fill="#047857" fill-opacity="1" d="M0,224L48,224C96,224,192,224,288,197.3C384,171,480,117,576,117.3C672,117,768,171,864,170.7C960,171,1056,117,1152,101.3C1248,85,1344,107,1392,117.3L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
      </svg>
    </div>

    <div class="relative px-4 py-28 sm:px-6 lg:px-8 max-w-6xl mx-auto text-center z-10">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
        Organizing Committee
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        {pageDescription}
      </p>
      <div class="mt-10 w-20 h-1.5 bg-emerald-500 mx-auto rounded-full"></div>
    </div>
  </div>

  <!-- Category Tabs Navigation -->
  <div class="sticky top-0 z-50 bg-white shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="overflow-x-auto py-3">
        <nav class="flex space-x-1 md:space-x-2 justify-start md:justify-center min-w-max">
          {sortedCategories.map((category) => (
            <a
              href={`#${category.toLowerCase().replace(/\s+/g, "-")}`}
              class="px-3 py-2 text-sm font-medium rounded-md transition-all
                    hover:bg-emerald-50 hover:text-emerald-700
                    focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
            >
              {category}
            </a>
          ))}
        </nav>
      </div>
    </div>
  </div>

  <!-- Committee Members By Category -->
  <div class="py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      {sortedCategories.map((category) => {
        const members = groupedMembers[category];
        return (
          <section
            id={category.toLowerCase().replace(/\s+/g, "-")}
            class="mb-24 scroll-mt-24 group"
            data-category={category}
          >
            <div class="mb-16">
              <h2 class="text-3xl font-bold text-center text-gray-900">
                <span class="relative inline-block">
                  {category}
                  <span class="absolute -bottom-2 left-0 right-0 h-1 bg-emerald-500 rounded transform origin-left transition-transform duration-500 ease-in-out scale-x-0 group-hover:scale-x-100"></span>
                </span>
              </h2>
            </div>

            <div class={`grid grid-cols-1 gap-8 ${getGridLayout(members.length)}`}>
              {members.map((member, idx) => (
                <div
                  class="flex flex-col items-center committee-member"
                  data-aos="fade-up"
                  data-aos-delay={idx * 100}
                >
                  <!-- Circular Profile Photo -->
                  <div class="relative mb-6 group">
                    <div class="w-40 h-40 rounded-full overflow-hidden border-4 border-white shadow-xl transition-transform duration-300 transform group-hover:scale-105">
                      <img
                        src={getImagePath(member.image)}
                        alt={member.name}
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>

                    <!-- Country Flag Badge -->
                    {member.country && (
                      <div class="absolute -bottom-2 -right-2 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md">
                        <span class="text-xl">{getFlagEmoji(member.country)}</span>
                      </div>
                    )}
                  </div>

                  <!-- Member Name -->
                  <h3 class="text-xl font-bold text-gray-800 text-center mb-2">
                    {member.name}
                  </h3>

                  <!-- Role Badge -->
                  {member.role && (
                    <span class="px-4 py-1.5 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800 mb-3 inline-block">
                      {member.role}
                    </span>
                  )}

                  <!-- Affiliation -->
                  {member.affiliation && (
                    <p class="text-gray-600 text-sm text-center mb-4 max-w-xs">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 inline mr-1 text-emerald-600"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                      >
                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                      </svg>
                      {member.affiliation}
                    </p>
                  )}

                  <!-- Contact Links -->
                  <div class="flex space-x-3 mt-2">
                    {member.email && (
                      <a
                        href={`mailto:${member.email}`}
                        class="w-9 h-9 flex items-center justify-center rounded-full bg-gray-100 hover:bg-emerald-100 transition-colors text-gray-500 hover:text-emerald-600"
                        title={member.email}
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                          <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                          <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
                        </svg>
                      </a>
                    )}

                    {member.linkedin && (
                      <a
                        href={member.linkedin}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="w-9 h-9 flex items-center justify-center rounded-full bg-gray-100 hover:bg-blue-100 transition-colors text-gray-500 hover:text-blue-600"
                        title="LinkedIn Profile"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                          <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                      </a>
                    )}

                    {member.phone && (
                      <a
                        href={`tel:${member.phone}`}
                        class="w-9 h-9 flex items-center justify-center rounded-full bg-gray-100 hover:bg-green-100 transition-colors text-gray-500 hover:text-green-600"
                        title={member.phone}
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                          <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                        </svg>
                      </a>
                    )}
                  </div>
                </div>
              ))}
            </div>
          </section>
        );
      })}
    </div>
  </div>

  <!-- Back to Top Button -->
  <button
    id="back-to-top"
    class="fixed bottom-8 right-8 p-3 rounded-full bg-emerald-600 text-white shadow-lg opacity-0 invisible transition-all duration-300 transform hover:scale-110 hover:bg-emerald-700 focus:outline-none"
    aria-label="Back to top"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
    </svg>
  </button>
</BaseLayout>

<style>
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Fade-in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .committee-member {
    animation: fadeIn 0.8s ease-out forwards;
    animation-delay: calc(var(--index, 0) * 100ms);
    opacity: 0;
  }

  @media (prefers-reduced-motion) {
    .committee-member {
      animation: none;
      opacity: 1;
    }
  }
</style>

<script>
  // Initialize animation for committee members
  document.addEventListener('DOMContentLoaded', () => {
    const members = document.querySelectorAll('.committee-member');
    members.forEach((member, index) => {
      member.style.setProperty('--index', index.toString());
    });

    // Back to top button
    const backToTopButton = document.getElementById('back-to-top');

    if (backToTopButton) {
      // Show button when scrolled down
      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
          backToTopButton.classList.remove('opacity-0', 'invisible');
          backToTopButton.classList.add('opacity-100', 'visible');
        } else {
          backToTopButton.classList.add('opacity-0', 'invisible');
          backToTopButton.classList.remove('opacity-100', 'visible');
        }
      });

      // Scroll to top when clicked
      backToTopButton.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }

    // Highlight active category in navigation
    function highlightActiveCategory() {
      const categories = document.querySelectorAll('section[data-category]');
      const navLinks = document.querySelectorAll('nav a');

      // Find the current visible category
      let currentCategory = '';
      categories.forEach(category => {
        const rect = category.getBoundingClientRect();
        if (rect.top <= 200 && rect.bottom >= 200) {
          currentCategory = `#${category.id}`;
        }
      });

      // Highlight the active link
      navLinks.forEach(link => {
        if (link.getAttribute('href') === currentCategory) {
          link.classList.add('bg-emerald-50', 'text-emerald-700');
        } else {
          link.classList.remove('bg-emerald-50', 'text-emerald-700');
        }
      });
    }

    // Update active category on scroll
    window.addEventListener('scroll', highlightActiveCategory);
    highlightActiveCategory(); // Initial check
  });
</script>
